<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <% include ../common/header.ejs %>
    <title>Bookshop | Book Form</title>
    <script src="/bookForm.js" charset="utf-8" defer></script>
  </head>
  <body class="pt-5">
    <% include ../common/nav.ejs %>
    <% include ../common/toaster.ejs %>
    <% include ../common/flash.ejs %>
    <div class="container">
      <div class="row pt-3">
        <h1><%= book.title || "New Book"%></h1>
        <!--  REQ: Include a form on this add product page that will submit a POST request when submitted. This form should include at least the title of the new book. -->
        <form class="row" action="/books/<%= book.title ? book.id : '' %>" method="post">
          <input type="hidden" name="_csrf" value="<%= csrfToken  %>">
          <div class="mb-3 col-sm-12">
            <label for="title" class="form-label">*Book Title</label>
            <input type="text" class="form-control" id="title" name="title" value="<%= book.title || ""%>" required>
          </div>
          <div class="mb-3 col-sm-6">
            <label for="authorName" class="form-label">*Author Name</label>
            <input type="text" class="form-control" id="authorName" name="authorName" value="<%= book.authorName || ""%>" required>
          </div>
          <div class="mb-3 col-sm-6">
            <label for="price" class="form-label">*Price</label>
            <div class="input-group">
              <span class="input-group-text">$</span>
              <input type="number" class="form-control" id="price" name="price" value="<%= book.price || 0%>" step="0.01" min="0" required>
            </div>
          </div>
          <div class="mb-3 col-sm-12">
            <label for="summary" class="form-label">Summary</label>
            <textarea id="summary" name="summary" class="form-control"><%= book.summary || ""%></textarea>
          </div>
          <input type="submit" class="btn btn-primary" value="Save">
        </form>
      </div>
    </div>
  </body>
</html>
